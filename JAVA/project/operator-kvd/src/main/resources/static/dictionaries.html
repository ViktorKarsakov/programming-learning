<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ - –ö–í–î</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<div class="layout">

    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="sidebar-title">–ö–í–î</div>
        <div class="sidebar-subtitle">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</div>

        <nav class="sidebar-nav">
            <a href="patient-form.html">
                <span class="icon">üìù</span> –í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö
            </a>
            <a href="patient-search.html">
                <span class="icon">üîç</span> –ü–æ–∏—Å–∫ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
            </a>
            <a href="#" class="submenu-toggle" onclick="toggleSubmenu(this)">
                <span><span class="icon">üìö</span> –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏</span>
            </a>
            <div class="submenu">
                <a href="dictionaries.html?dict=genders" data-dict="genders">–ü–æ–ª</a>
                <a href="dictionaries.html?dict=diagnosis-groups" data-dict="diagnosis-groups">–ì—Ä—É–ø–ø—ã –¥–∏–∞–≥–Ω–æ–∑–æ–≤</a>
                <a href="dictionaries.html?dict=diagnoses" data-dict="diagnoses">–î–∏–∞–≥–Ω–æ–∑—ã</a>
                <a href="dictionaries.html?dict=branches" data-dict="branches">–§–∏–ª–∏–∞–ª—ã</a>
                <a href="dictionaries.html?dict=departments" data-dict="departments">–û—Ç–¥–µ–ª–µ–Ω–∏—è</a>
                <a href="dictionaries.html?dict=doctors" data-dict="doctors">–í—Ä–∞—á–∏</a>
                <a href="dictionaries.html?dict=state-groups" data-dict="state-groups">–ì—Ä—É–ø–ø—ã —Ä–∞–π–æ–Ω–æ–≤</a>
                <a href="dictionaries.html?dict=states" data-dict="states">–†–∞–π–æ–Ω—ã</a>
                <a href="dictionaries.html?dict=places" data-dict="places">–ú–µ—Å—Ç–∞ –≤—ã—è–≤–ª–µ–Ω–∏—è</a>
                <a href="dictionaries.html?dict=profiles" data-dict="profiles">–ü—Ä–æ—Ñ–∏–ª–∏</a>
                <a href="dictionaries.html?dict=inspections" data-dict="inspections">–¢–∏–ø—ã –æ—Å–º–æ—Ç—Ä–∞</a>
                <a href="dictionaries.html?dict=transfers" data-dict="transfers">–ü—É—Ç–∏ –ø–µ—Ä–µ–¥–∞—á–∏</a>
                <a href="dictionaries.html?dict=citizen-categories" data-dict="citizen-categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è</a>
                <a href="dictionaries.html?dict=citizen-types" data-dict="citizen-types">–¢–∏–ø—ã –Ω–∞—Å. –ø—É–Ω–∫—Ç–æ–≤</a>
                <a href="dictionaries.html?dict=social-groups" data-dict="social-groups">–°–æ—Ü. –≥—Ä—É–ø–ø—ã</a>
                <a href="dictionaries.html?dict=lab-test-types" data-dict="lab-test-types">–õ–∞–±. —Ç–µ—Å—Ç—ã</a>
            </div>
            <a href="#">
                <span class="icon">‚öôÔ∏è</span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            </a>
        </nav>

        <div class="sidebar-footer">
            <div class="sidebar-exit">
                <span>üö™</span> –í—ã—Ö–æ–¥
            </div>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="content">
        <div class="page-header">
            <h1 class="page-title" id="pageTitle">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫: –ü–æ–ª</h1>
        </div>

        <section class="card">
            <div class="actions">
                <button class="btn btn-primary" onclick="openAddModal()">
                    ‚ûï –î–æ–±–∞–≤–∏—Ç—å
                </button>
                <button class="btn btn-secondary" id="btnEdit" onclick="openEditModal()" disabled>
                    ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                </button>
                <button class="btn btn-danger" id="btnDelete" onclick="deleteSelected()" disabled>
                    üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                </button>
            </div>

            <div class="table-container">
                <table id="dictTable">
                    <thead id="tableHead">
                        <tr>
                            <th style="width: 60px">#</th>
                            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <tr>
                            <td colspan="2">
                                <div class="loading">
                                    <div class="spinner"></div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>
</div>

<!-- Modal -->
<div class="modal-overlay" id="dictModal">
    <div class="modal">
        <div class="modal-header">
            <h3 id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</h3>
            <button class="modal-close" onclick="closeDictModal()">√ó</button>
        </div>
        <div class="modal-body" id="modalFormBody">
            <!-- –§–æ—Ä–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="closeDictModal()">–û—Ç–º–µ–Ω–∞</button>
            <button class="btn btn-primary" onclick="saveDictRecord()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
    </div>
</div>

<script src="js/common.js"></script>
<script src="js/dictionaries.js"></script>

<script>
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    document.addEventListener('DOMContentLoaded', () => {
        const params = new URLSearchParams(window.location.search);
        const dict = params.get('dict') || 'genders';
        loadDictionary(dict);
    });
</script>

</body>
</html>
